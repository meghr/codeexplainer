# Code Explainer Application Configuration

spring:
  application:
    name: code-explainer
  
  # File Upload Configuration
  servlet:
    multipart:
      enabled: true
      max-file-size: 100MB
      max-request-size: 100MB
  
  # H2 Database (for caching analysis results)
  datasource:
    url: jdbc:h2:file:./data/code-explainer-db
    driver-class-name: org.h2.Driver
    username: sa
    password: 
  
  h2:
    console:
      enabled: true
      path: /h2-console
  
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
  
  # Thymeleaf Configuration
  thymeleaf:
    cache: false
    prefix: classpath:/templates/
    suffix: .html

# Server Configuration
server:
  port: 8080
  servlet:
    context-path: /

# Application-specific Configuration
codeexplainer:
  # Temporary directory for JAR extraction
  temp-dir: ${java.io.tmpdir}/code-explainer
  
  # Output directory for generated files
  output-dir: ./output
  
  # Maven repository settings
  maven:
    local-repo: ${user.home}/.m2/repository
    remote-repos:
      - id: central
        url: https://repo.maven.apache.org/maven2
  
  # Diagram generation settings
  diagram:
    format: svg
    max-classes-per-diagram: 50
    include-private-methods: false
  
  # Analysis settings
  analysis:
    max-depth: 10
    include-dependencies: true
    cache-enabled: true
    cache-ttl-hours: 24

# Logging Configuration
logging:
  level:
    root: INFO
    com.codeexplainer: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
  file:
    name: ./logs/code-explainer.log

# Springdoc OpenAPI Configuration
springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    operationsSorter: method
    tagsSorter: alpha
